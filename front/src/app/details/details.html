<article>
    <img
        class="listing-photo"
        [src]="housingLocation?.photo"
        alt="Exterior of {{ housingLocation?.name }}"
        crossorigin=""
    />
    <section class="listing-description">
        <h2 class="listing-heading">
            {{ housingLocation?.name }}
        </h2>
        <p class="listing-description">
            {{ housingLocation?.city }}, {{ housingLocation?.state }}
        </p>
    </section>
    <section class="listing-feature">
        <h2 class="section-heading">
            About the house location
        </h2>
        <ul>
            <li>Units available: {{ housingLocation?.availableUnits }}</li>
            <li>Does this location have wifi: {{ housingLocation?.wifi }}</li>
            <li>Does this location have laundry: {{ housingLocation?.laundry }}</li>
        </ul>
    </section>
    <section class="listing-apply">
        <h2 class="section-heading">
            Apply now to live here
        </h2>
        <form [formGroup]="applyForm" (submit)="submitApplication()">
            <label for="first-name">First name <i>*</i></label>
            <input id="first-name" type="text" formControlName="firstName"/>
            @if(firstName.invalid && (firstName.dirty || !firstName.untouched)) {
                <i class="alert-danger">First name is required</i>
            }

            <label for="last-name">Last name <i>*</i></label>
            <input id="last-name" type="text" formControlName="lastName"/>
            @if(lastName.invalid && (lastName.dirty || !lastName.untouched)) {
                <i class="alert-danger">Last name is required</i>
            }

            <label for="email">Email <i>*</i></label>
            <input id="email" type="email" formControlName="email"/>
            @if(email.invalid && (email.dirty || !email.untouched)) {
                @if(email.hasError("required")) {
                    <i class="alert-danger">Email is required</i>
                }
                @if(email.hasError("email")) {
                    <i class="alert-danger">Type a valid email</i>
                }
            }

            <button type="submit" class="primary">Apply now</button>
        </form>
    </section>
</article>